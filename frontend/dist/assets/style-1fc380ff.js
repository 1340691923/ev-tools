import{k as M,o as R,c as D,m as h,V as $,n as B,G as P,H as W}from"./index-fa15ecb5.js";const b="/api/es_doc/";function Q(e){return M.request({url:b+"DeleteRowByIDAction",method:"post",data:e})}function Z(e){return M.request({url:b+"UpdateByIDAction",method:"post",data:e})}function ee(e){return M.request({url:b+"InsertAction",method:"post",data:e})}const A=(e,t)=>{const i=e.__vccOpts||e;for(const[n,s]of t)i[n]=s;return i},H={data(){return{resizeLinePaneId:`resize-line-pane-${this.geneRamdId()}`,resizeLineId:`resize-line-${this.geneRamdId()}`,pane1stId:`pane-1st-${this.geneRamdId()}`,pane2ndId:`pane-2nd-${this.geneRamdId()}`,resizeTimeout:null,interval:500}},props:{distribute:{type:Number,default:.5,validator:function(e){return e>0&&e<1}},isVertical:{type:Boolean,default:!0},lineThickness:{type:Number,default:6,validator:function(e){return e>=6}},hasLineTip:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#a0cfff"},hoverColor:{type:String,default:"#409eff"},hasBoxShadow:{type:Boolean,default:!0},firstMinValue:{type:Number,default:0,validator:function(e){return e>=0}},secondMinValue:{type:Number,default:0,validator:function(e){return e>=0}},isFirstComponentMasked:{type:Boolean,default:!1},isSecondComponentMasked:{type:Boolean,default:!1}},watch:{isVertical:function(){this.init()},distribute:function(){this.init()}},mounted(){this.init(),window.addEventListener("resize",this.$_eventCallback,!1)},unmounted(){window.removeEventListener("resize",this.$_eventCallback)},methods:{init(){const e=document.getElementById(this.resizeLinePaneId),t=document.getElementById(this.resizeLineId),i=document.getElementById(this.pane1stId),n=document.getElementById(this.pane2ndId);if(t.style.backgroundColor=this.backgroundColor,this.hasBoxShadow&&(t.style.boxShadow="0px 0px 1px inset"),this.hasLineTip){let o=t.getElementsByClassName("tip")[0].getElementsByClassName("line");for(const z of o)z.style.backgroundColor=this.hoverColor}let s=this.isVertical?e.offsetWidth:e.offsetHeight,a=this.lineThickness/s,f=0,u=0;this.firstMinValue>0&&(f=this.firstMinValue/s),this.secondMinValue>0&&(u=this.secondMinValue/s);let y=a/2,l=this.distribute-y,v=1-this.distribute-y;f>l?(l=f,v=1-l-a):u>v&&(v=u,l=1-v-a);let _=l*100,N=v*100;this.isVertical?(i.style.width=_+"%",n.style.width=N+"%",t.style.width=this.lineThickness+"px",i.style.height=null,n.style.height=null,t.style.height=null):(i.style.height=_+"%",n.style.height=N+"%",t.style.height=this.lineThickness+"px",i.style.width=null,n.style.width=null,t.style.width=null);let k=this.firstMinValue,C=this.secondMinValue,d=this.isVertical,w,g,I;t.onmousedown=o=>{this.$emit("resizeLineStartMove");let z,L,E,S;if(s=d?e.offsetWidth:e.offsetHeight,this.isFirstComponentMasked){let{maskNode:r,originPosition:c}=this.$_addMask(i);z=r,E=c}if(this.isSecondComponentMasked){let{maskNode:r,originPosition:c}=this.$_addMask(n);L=r,S=c}return o=o||window.event,w=d?o.clientX:o.clientY,g=i[d?"offsetWidth":"offsetHeight"],I=n[d?"offsetWidth":"offsetHeight"],document.onmousemove=r=>{this.$emit("resizeLineMove",r);let c=d?r.clientX:r.clientY,m=g+(c-w);if(g===k&&m<k)return;let p=I+(w-c);if(I===C&&p<C)return;m<k?(m=k,p=I+(g-m)):p<C&&(p=C,m=g+(I-p));let T=m/s*100,x=p/s*100;i.style[d?"width":"height"]=T+"%",n.style[d?"width":"height"]=x+"%"},document.onmouseup=()=>{this.$emit("resizeLineEndMove"),this.isFirstComponentMasked&&this.$_removeMask(i,z,E),this.isSecondComponentMasked&&this.$_removeMask(n,L,S),document.onmousemove=null,document.onmouseup=null,t.releaseCapture&&t.releaseCapture()},t.setCapture&&t.setCapture(),!1},t.onmouseenter=o=>{this.$_addClass(t,"resize-hover"),o.target.style.backgroundColor=this.hoverColor},t.onmouseleave=o=>{this.$_removeClass(t,"resize-hover"),o.target.style.backgroundColor=this.backgroundColor}},$_handleWindowResize(){let e=document.getElementById(this.resizeLinePaneId);document.getElementById(this.resizeLineId);const t=document.getElementById(this.pane1stId),i=document.getElementById(this.pane2ndId);let n=this.isVertical?e.offsetWidth:e.offsetHeight,s=(this.isVertical?t.style.width:t.style.height).slice(0,-1),a=(this.isVertical?i.style.width:i.style.height).slice(0,-1),f=100-s-a,u=this.lineThickness/n*100-f,y=s-u/2,l=a-u/2;this.isVertical?(t.style.width=y+"%",i.style.width=l+"%"):(t.style.height=y+"%",i.style.height=l+"%")},$_addClass(e,t){e.className.indexOf(t)<0&&(e.className=e.className+" "+t)},$_removeClass(e,t){e.className=e.className.replace(t,"").trim()},$_addMask(e){let t=e.style.position;e.style.position="relative";let i=document.createElement("div");return i.style.backgroundColor="transparent",i.style.position="absolute",i.style.width="100%",i.style.height="100%",i.style.top="0",i.style.left="0",e.appendChild(i),{maskNode:i,originPosition:t}},$_removeMask(e,t,i){e.removeChild(t),e.style.position=i},$_eventCallback(){this.resizeTimeout||(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=null,this.$_handleWindowResize()},this.interval))},geneRamdId(){return Number.parseInt(Math.random()*1e5)}}},V=e=>(P("data-v-31a7790a"),e=e(),W(),e),q=["id"],F=["id"],O=["id"],U=V(()=>h("div",{class:"line"},null,-1)),X=V(()=>h("div",{class:"line"},null,-1)),Y=V(()=>h("div",{class:"line"},null,-1)),G=[U,X,Y],j=["id"];function K(e,t,i,n,s,a){return R(),D("div",{id:s.resizeLinePaneId,class:B(["resize-line-pane",i.isVertical?"pane-vertical":"pane-horizontal"])},[h("div",{id:s.pane1stId,class:"pane pane-1st"},[$(e.$slots,"first",{},void 0,!0)],8,F),h("div",{id:s.resizeLineId,class:B(["resize-line",i.isVertical?"resize-vertical":"resize-horizontal"])},[h("div",{class:B(["tip",i.isVertical?"vertical":"horizontal"])},G,2)],10,O),h("div",{id:s.pane2ndId,class:"pane pane-2nd"},[$(e.$slots,"second",{},void 0,!0)],8,j),$(e.$slots,"default",{},void 0,!0)],10,q)}const te=A(H,[["render",K],["__scopeId","data-v-31a7790a"]]);export{Q as D,ee as I,te as K,Z as U};
